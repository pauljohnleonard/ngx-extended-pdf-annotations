<div
  [ngClass]="{
    'comment-outer-container': true,
    'mat-elevation-z8': true,
    'blue-border': highlight
  }"
  (click)="clicked()"
>
  <div class="comment-inner-container">
    <div class="comment-top-meta-info">
      <mat-icon style="margin-right: 10px; color: rgb(49, 49, 245)"
        >gesture</mat-icon
      >

      <div class="comment-name-and-date">
        <div class="name">{{ comment.record.userName }}</div>
        <div class="date">{{ date.formatDate(comment.record.createdAt) }}</div>
      </div>
      <span class="filler"></span>
      <div class="chat-message-buttons" *ngIf="expand">
        <button
          mat-icon-button
          [matMenuTriggerFor]="deleteMessageMenu"
          class="delete-menu-button"
          [class.delete-menu-button-for-non-admin]="true"
          aria-label="Delete message menu"
        >
          <mat-icon>more_vert</mat-icon>
        </button>

        <mat-menu #deleteMessageMenu="matMenu">
          <button
            mat-menu-item
            (click)="annotationService._deleteComment(comment)"
            aria-label="Delete message"
          >
            <mat-icon>delete</mat-icon>
            <span i18n="@@chat_delete-message">Delete message</span>
          </button>
        </mat-menu>
      </div>
    </div>

    <div class="comment-body-container">
      <div *ngIf="!editComment" class="comment-body">
        {{ comment.record.bodyValue }}
      </div>

      <mat-form-field *ngIf="editComment" class="comment-body-formfield">
        <textarea
          matInput
          class="comment-window-textarea-message-input"
          i18n-placeholder="@@YourCommentPlaceHolder"
          placeholder="Comment"
          i18n-placeholder="@@chat_your-message"
          (keydown)="onKeydownInput($event)"
          [formControl]="messageInputFC"
          autocomplete="off"
          cdkTextareaAutosize
          cdkAutosizeMinRows="1"
          cdkAutosizeMaxRows="5"
          #messageinput
        >
        </textarea>
      </mat-form-field>
    </div>

    <div class="controls-container" *ngIf="editComment">
      <span class="filler"></span>
      <button
        mat-icon-button
        class="is-replying-info-cancel-button"
        aria-label="Cancel replying to message"
        (click)="clearMessage()"
        i18n-matTooltip="@@ClearCommentBottonng s"
        matTooltip="clear"
      >
        <mat-icon>clear</mat-icon>
      </button>

      <!-- <button
        mat-icon-button
        matSuffix
        (click)="comnmitComment()"
        [attr.aria-label]="'Send message'"
        matTooltip="Send message"
        i18n-matTooltip="@@chat_send-message"
      >
        <mat-icon>send</mat-icon>
      </button> -->
    </div>
  </div>
</div>
